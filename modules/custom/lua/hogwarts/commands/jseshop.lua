-----------------------------------
-- func: jseshop
-- desc: Shows a paginated menu with three pages of options, where each option opens a separate job specific shop.
-- note: title and options are required.
--     : onStart, onCancelled, and onEnd are optional.
--     : You must provide at least one option.
--     : Incorrectly creating or configuring a menu
--     : will not result in a crash or broken menus,
--     : but will produce scary looking warnings in
--     : the log.
-----------------------------------

require('scripts/globals/shop')
require('scripts/globals/player')

local commandObj = {}

commandObj.cmdprops =
{
    permission = 0,
    parameters = ''
}

-- Forward declarations (required)
local menu  = {}
local page1 = {}
local page2 = {}
local page3 = {}

-- Pricing Declarations (Adjust as you see fit - this is your server)

local priceAF1 = 15000 -- Job Torque (neck level 30)
local priceAF2 = 25000 -- Job AF Weapon/Misc/Instrument (level 40ish)
local priceAF3 = 45000 -- Job AF Armor (level ~60)
local priceAFP1 = 100000 -- Job AF Armor +1 (level ~74)
local priceReAF = 600000 -- Job Reforged Artifact Armor (iLvl 109 Gear)
local priceReAFP1 = 1000000 -- Job Reforged Artifact Armor +1 (iLvl 119)
local priceReAFP2 = 1750000 -- Job Reforged Artifact Armor +2 (iLvl 119 II)
local priceReAFP3 = 3000000 -- Job Reforged Artifact Armor +3 (iLvl 119 III)
local priceRelic = 70000 -- Job Relic Gear and JSE 70 (level 70-75)
local priceRelicP1 = 150000 -- Job Relic Gear +1 (level 75)
local priceRelicP2 = 190000 -- Job Relic Gear +2 (level 90)
local priceReRelic = 800000 -- Job Reforged Relic Armor (iLvl 109)
local priceReRelicP1 = 1500000 -- Job Reforged Relic Armor +1 (iLvl 119)
local priceReRelicP2 = 2250000 -- Job Reforged Relic Armor +2 (iLvl 119 II)
local priceReRelicP3 = 3500000 -- Job Reforged Relic Armor +3 (iLvl 119 III)
local priceEmp = 100000 -- Job Empyrean Armor and JSE 80, 84, and 90 (level 80-90)
local priceEmpP1 = 150000 -- Job Empyrean Armor +1 (level 81-89)
local priceEmpP2 = 200000 -- Job Empyrean Armor +2 (level 81-89)
local priceReEmp = 850000 -- Job Reforged Empyrean Armor (iLvl 109)
local priceReEmpP1 = 2500000 -- Job Reforged Empyrean Armor (iLvl 119)
local priceReEmpP2 = 2750000 -- Job Reforged Empyrean Armor (iLvl 119 II)
local priceReEmpP3 = 4000000 -- Job Reforged Empyrean Armor (iLvl 119 III)
local priceRelicWp = 5250000 -- Level 75 Relics
local priceRelicWp99 = 25000000 -- Level 99 Relics
local priceRelicWp119 = 55000000 -- iLvl 119 III Relics
local priceMythicWp = 7250000 -- Level 75 Mythics
local priceMythicWp99 = 32500000 -- Level 99 Mythics
local priceMythicWp119 = 62500000 -- iLvl 119 III Mythics
local priceEmpWp = 7500000 -- Level 90 Empyrean Weapons
local priceEmpWp99 = 30000000 -- Level 99 Empyrean Weapons
local priceEmpWp119 = 42500000 -- iLvl 119 III Empyrean Weapons
local priceAeonWp = 75000000 -- iLvl 119 III Aeonic Weapons

-- Determine JSE entries by jobId (Dnc has 19 and 20 for M/F)

local jseArray = {}
jseArray[1] = {11988,16678,0,12511,12638,13961,14214,14089,15225,14473,14890,15561,15352,15871,15072,15087,15102,15117,15132,15245,14500,14909,15580,15665,10650,10670,10690,10710,10730,11591,19253,11703,12008,12028,12048,12068,12088,11164,11184,11204,11224,11244,11064,11084,11104,11124,11144,27663,27807,27943,28090,28223,26624,26800,26976,27152,27328,26740,26898,27052,27237,27411,25417,25420,27684,27828,27964,28111,28244,26625,26801,26977,27153,27329,26741,26899,27053,27238,27412,25418,25421,28617,23040,23107,23174,23241,23308,23063,23130,23197,23264,23331,23085,23152,23219,23286,23353,25419,25422,26246,23375,23442,23509,23576,23643,23398,23465,23532,23599,23666,23420,23487,23554,23621,23688,0,0,18294,18282,18991,19539,19538,19537,0,0,19751,19749,19819,19810,19809,19750,20835,20745,20794,20839,20837,20843,0}
jseArray[2] = {11989,17478,0,12512,12639,13962,14215,14090,15226,14474,14891,15562,15353,15478,15073,15088,15103,15118,15133,15246,14501,14910,15581,15666,10651,10671,10691,10711,10731,11592,19254,11704,12009,12029,12049,12069,12089,11165,11185,11205,11225,11245,11065,11085,11105,11125,11145,27664,27808,27944,28091,28224,26626,26802,26978,27154,27330,26742,26900,27054,27239,27413,25423,25426,27685,27829,27965,28112,28245,26627,26803,26979,27155,27331,26743,26901,27055,27240,27414,25424,25427,28618,23041,23108,23175,23242,23309,23064,23131,23198,23265,23332,23086,23153,23220,23287,23354,25425,25428,26247,23376,23443,23510,23577,23644,23399,23466,23533,23600,23667,23421,23488,23555,23622,23689,0,0,18264,19534,18992,0,0,0,0,0,19746,19805,19820,0,0,0,20480,20486,20482,0,0,20515,0}
jseArray[3] = {11990,17422,0,13855,12640,13963,14216,14091,15227,14475,14892,15563,15354,15872,15074,15089,15104,15119,15134,15247,14502,14911,15582,15667,10652,10672,10692,10712,10732,11554,11615,11705,12010,12030,12050,12070,12090,11166,11186,11206,11226,11246,11066,11086,11106,11126,11146,27665,27809,27945,28092,28225,26628,26804,26980,27156,27332,26744,26902,27056,27241,27415,25429,25432,27686,27830,27966,28113,28246,26629,26805,26981,27157,27333,26745,26903,27057,27242,27416,25430,25433,28619,23042,23109,23176,23243,23310,23065,23132,23199,23266,23333,23087,23154,23221,23288,23355,25431,25434,26248,23377,23444,23511,23578,23645,23400,23467,23534,23601,23668,23422,23489,23556,23623,23690,0,0,18324,19544,18993,0,0,0,0,0,19756,19815,19821,0,0,0,21060,21064,21062,0,0,21082,0}
jseArray[4] = {11991,17423,0,13856,12641,13964,14217,14092,15228,14476,14893,15564,15355,15874,15075,15090,15105,15120,15135,15248,14503,14912,15583,15668,10653,10673,10693,10713,10733,11593,16203,11706,12011,12031,12051,12071,12091,11167,11187,11207,11227,11247,11067,11087,11107,11127,11147,27666,27810,27946,28093,28226,26630,26806,26982,27158,27334,26746,26904,27058,27243,27417,25435,25438,27687,27831,27967,28114,28247,26631,26807,26983,27159,27335,26747,26905,27059,27244,27418,25436,25439,28620,23043,23110,23177,23244,23311,23066,23133,23200,23267,23334,23088,23155,23222,23289,23356,25437,25440,26249,23378,23445,23512,23579,23646,23401,23468,23535,23602,23669,23423,23490,23557,23624,23691,0,0,18330,19545,18994,0,0,0,0,0,19757,19816,19822,0,0,0,21135,21143,21139,0,0,21147,0}
jseArray[5] = {11992,16829,0,12513,12642,13965,14218,14093,15229,14477,14894,15565,15356,15873,15076,15091,15106,15121,15136,15249,14504,14913,15584,15669,10654,10674,10694,10714,10734,11594,16204,11707,12012,12032,12052,12072,12092,11168,11188,11208,11228,11248,11068,11088,11108,11128,11148,27667,27811,27947,28094,28227,26632,26808,26984,27160,27336,26748,26906,27060,27245,27419,25441,25444,27688,27832,27968,28115,28248,26633,26809,26985,27161,27337,26749,26907,27061,27246,27420,25442,25445,28621,23044,23111,23178,23245,23312,23067,23134,23201,23268,23335,23089,23156,23223,23290,23357,25443,25446,26250,23379,23446,23513,23580,23647,23402,23469,23536,23603,23670,23424,23491,23558,23625,23692,0,0,18270,19535,18276,19536,18995,0,0,0,19747,19806,19748,19807,19823,0,20555,20563,20645,20653,20647,20594,20695}
jseArray[6] = {11993,16764,0,12514,12643,13966,14219,14094,15230,14478,14895,15566,15357,15480,15077,15092,15107,15122,15137,15250,14505,14914,15585,15670,10655,10675,10695,10715,10735,11736,19260,11708,12013,12033,12053,12073,12093,11169,11189,11209,11229,11249,11069,11089,11109,11129,11149,27668,27812,27948,28095,28228,26634,26810,26986,27162,27338,26750,26908,27062,27247,27421,25447,25450,27689,27833,27969,28116,28249,26635,26811,26987,27163,27339,26751,26909,27063,27248,27422,25448,25451,28622,23045,23112,23179,23246,23313,23068,23135,23202,23269,23336,23090,23157,23224,23291,23358,25449,25452,26251,23380,23447,23514,23581,23648,23403,23470,23537,23604,23671,23425,23492,23559,23626,23693,0,0,18270,19535,18996,0,0,0,0,0,19747,19806,19824,0,0,0,20555,20563,20559,0,0,20594,0}
jseArray[7] = {11994,17643,0,12515,12644,13967,14220,14095,15231,14479,14896,15567,15358,15481,15078,15093,15108,15123,15138,15251,14506,14915,15586,15671,10656,10676,10696,10716,10736,11595,11750,11709,12014,12034,12054,12074,12094,11170,11190,11210,11230,11250,11070,11090,11110,11130,11150,27669,27813,27949,28096,28229,26636,26812,26988,27164,27340,26752,26910,27064,27249,27423,25453,25456,27690,27834,27970,28117,28250,26637,26813,26989,27165,27341,26753,26911,27065,27250,27424,25454,25457,28623,23046,23113,23180,23247,23314,23069,23136,23203,23270,23337,23091,23158,23225,23292,23359,25455,25458,26252,23381,23448,23515,23582,23649,23404,23471,23538,23605,23672,23426,23493,23560,23627,23694,15070,16193,18276,19536,18282,19537,18997,0,11927,11926,19807,19749,19808,19825,0,0,20645,20653,20745,20747,20649,26403,20695}
jseArray[8] = {11995,16798,0,12516,12645,13968,14221,14096,15232,14480,14897,15568,15359,15479,15079,15094,15109,15124,15139,15252,14507,14916,15587,15672,10657,10677,10697,10717,10737,11737,11616,11710,12015,12035,12055,12075,12095,11171,11191,11211,11231,11251,11071,11091,11111,11131,11151,27670,27814,27950,28097,28230,26638,26814,26990,27166,27342,26754,26912,27066,27251,27425,25459,25462,27691,27835,27971,28118,28251,26639,26815,26991,27167,27343,26755,26913,27067,27252,27426,25460,25463,28624,23047,23114,23181,23248,23315,23070,23137,23204,23271,23338,23092,23159,23226,23293,23360,25461,25464,26253,23382,23449,23516,23583,23650,23405,23472,23539,23606,23673,23427,23494,23561,23628,23695,0,0,18282,19537,18306,19540,18998,0,0,0,19749,19808,19753,19811,19826,0,20745,20747,20880,20884,20882,20890,0}
jseArray[9] = {11996,16680,0,12517,12646,13969,14222,14097,15233,14481,14898,15569,15360,15875,15080,15095,15110,15125,15140,15253,14508,14917,15588,15673,10658,10678,10698,10718,10738,11555,11617,11711,12016,12036,12056,12076,12096,11172,11192,11212,11232,11252,11072,11092,11112,11132,11152,27671,27815,27951,28098,28231,26640,26816,26992,27168,27344,26756,26914,27068,27253,27427,25465,25468,27692,27836,27972,28119,28252,26641,26817,26993,27169,27345,26757,26915,27069,27254,27428,25466,25469,28625,23048,23115,23182,23249,23316,23071,23138,23205,23272,23339,23093,23160,23227,23294,23361,25467,25470,26254,23383,23450,23517,23584,23651,23406,23473,23540,23607,23674,23428,23495,23562,23629,23696,0,0,18288,19538,18999,0,0,0,0,0,19750,19809,19827,0,0,0,20790,20794,20792,0,0,21753,0}
jseArray[10] = {11997,16766,0,13857,12647,13970,14223,14098,15234,14482,14899,15570,15361,15482,15081,15096,15111,15126,15141,15254,14509,14918,15589,15674,10659,10679,10699,10719,10739,11738,11618,11712,12017,12037,12057,12077,12097,11173,11193,11213,11233,11253,11073,11093,11113,11133,11153,27672,27816,27952,28099,28232,26642,26818,26994,27170,27346,26758,26916,27070,27255,27429,25471,25474,27693,27837,27973,28120,28253,26643,26819,26995,27171,27347,26759,26917,27071,27256,27430,25472,25475,28626,23049,23116,23183,23250,23317,23072,23139,23206,23273,23340,23094,23161,23228,23295,23362,25473,25476,26255,23384,23451,23518,23585,23652,23407,23474,23541,23608,23675,23429,23496,23563,23630,23697,18342,18575,18270,19535,19000,0,0,0,18572,18571,19747,19806,19748,19828,0,0,20555,20563,20561,0,0,20594,21398}
jseArray[11] = {11998,17188,0,12518,12648,13971,14224,14099,15235,14483,14900,15571,15362,15876,15082,15097,15112,15127,15142,15255,14510,14919,15590,15675,10660,10680,10700,10720,10740,11596,16205,11713,12018,12038,12058,12078,12098,11174,11194,11214,11234,11254,11074,11094,11114,11134,11154,27673,27817,27953,28100,28233,26644,26820,26996,27172,27348,26760,26918,27072,27257,27431,25477,25480,27694,27838,27974,28121,28254,26645,26821,26997,27173,27349,26761,26919,27073,27258,27432,25478,25481,28627,23050,23117,23184,23251,23318,23073,23140,23207,23274,23341,23095,23162,23229,23296,23363,25479,25482,26256,23385,23452,23519,23586,23653,23408,23475,23542,23609,23676,23430,23497,23564,23631,23698,0,0,18348,19546,18336,19547,19001,0,0,0,19759,19817,19758,19818,19829,0,21210,21212,21260,21264,21246,22117,21485}
jseArray[12] = {11999,17812,0,13868,13781,13972,14225,14100,15236,14484,14901,15572,15363,15879,15083,15098,15113,15128,15143,15256,14511,14920,15591,15676,10661,10681,10701,10721,10741,11597,16206,11714,12019,12039,12059,12079,12099,11175,11195,11215,11235,11255,11075,11095,11115,11135,11155,27674,27818,27954,28101,28234,26646,26822,26998,27174,27350,26762,26920,27074,27259,27433,25483,25486,27695,27839,27975,28122,28255,26647,26823,26999,27175,27351,26763,26921,27075,27260,27434,25484,25487,28628,23051,23118,23185,23252,23319,23074,23141,23208,23275,23342,23096,23163,23230,23297,23364,25485,25488,26257,23386,23453,23520,23587,23654,23409,23476,23543,23610,23677,23431,23498,23565,23632,23699,0,0,18318,19543,18348,19002,0,0,0,0,19755,19814,19759,19830,0,0,21015,21019,21210,21017,0,21025,0}
jseArray[13] = {12000,17771,17772,13869,13782,13973,14226,14101,15237,14485,14902,15573,15364,15877,15084,15099,15114,15129,15144,15257,14512,14921,15592,15677,10662,10682,10702,10722,10742,11598,16207,11715,12020,12040,12060,12080,12100,11176,11196,11216,11236,11256,11076,11096,11116,11136,11156,27675,27819,27955,28102,28235,26648,26824,27000,27176,27352,26764,26922,27076,27261,27435,25489,25492,27696,27840,27976,28123,28256,26649,26825,27001,27177,27353,26765,26923,27077,27262,27436,25490,25493,28629,23052,23119,23186,23253,23320,23075,23142,23209,23276,23343,23097,23164,23231,23298,23365,25491,25494,26258,23387,23454,23521,23588,23655,23410,23477,23544,23611,23678,23432,23499,23566,23633,23700,0,0,18312,19542,19003,0,0,0,0,0,19754,19813,19831,0,0,0,20970,20974,20972,0,0,20977,0}
jseArray[14] = {12001,16887,0,12519,12649,13974,14227,14102,15238,14486,14903,15574,15365,15878,15085,15100,15115,15130,15145,15258,14513,14922,15593,15678,10663,10683,10703,10723,10743,11599,16208,11716,12021,12041,12061,12081,12101,11177,11197,11217,11237,11257,11077,11097,11117,11137,11157,27676,27820,27956,28103,28236,26650,26826,27002,27178,27354,26766,26924,27078,27263,27437,25495,25498,27697,27841,27977,28124,28257,26651,26827,27003,27179,27355,26767,26925,27079,27264,27438,25496,25499,28630,23053,23120,23187,23254,23321,23076,23143,23210,23277,23344,23098,23165,23232,23299,23366,25497,25500,26259,23388,23455,23522,23589,23656,23411,23478,23545,23612,23679,23433,23500,23567,23634,23701,0,0,18300,19541,19004,0,0,0,0,0,19752,19812,19832,0,0,0,20925,20929,20927,0,0,20935,0}
jseArray[15] = {12002,17532,0,12520,12650,13975,14228,14103,15239,14487,14904,15575,15366,15484,15086,15101,15116,15131,15146,15259,14514,14923,15594,15679,10664,10684,10704,10724,10744,11619,11739,11717,12022,12042,12062,12082,12102,11178,11198,11218,11238,11258,11078,11098,11118,11138,11158,27677,27821,27957,28104,28237,26652,26828,27004,27180,27356,26768,26926,27080,27265,27439,25501,25504,27698,27842,27978,28125,28258,26653,26829,27005,27181,27357,26769,26927,27081,27266,27440,25502,25505,28631,23054,23121,23188,23255,23322,23077,23144,23211,23278,23345,23099,23166,23233,23300,23367,25503,25506,26260,23389,23456,23523,23590,23657,23412,23479,23546,23613,23680,23434,23501,23568,23635,23702,0,0,18330,19545,19005,0,0,0,0,0,19757,19816,19833,0,0,0,21135,21143,21141,0,0,21147,0}
jseArray[16] = {12003,17717,0,15265,14521,14928,15600,15684,11464,11291,15024,16345,11381,16244,11465,11292,15025,16346,11382,11466,11293,15026,16347,11383,10665,10685,10705,10725,10745,11600,19255,11718,12023,12043,12063,12083,12103,11179,11199,11219,11239,11259,11079,11099,11119,11139,11159,27678,27822,27958,28105,28238,26654,26830,27006,27182,27358,26770,26928,27082,27267,27441,25507,25510,27699,27843,27979,28126,28259,26655,26831,27007,27183,27359,26771,26929,27083,27268,27442,25508,25511,28632,23055,23122,23189,23256,23323,23078,23145,23212,23279,23346,23100,23167,23234,23301,23368,25509,25512,26261,23390,23457,23524,23591,23658,23413,23480,23547,23614,23681,23435,23502,23569,23636,23703,0,0,19536,19006,0,0,0,0,0,0,19807,19834,0,0,0,0,20653,20651,0,0,0,20695,0}
jseArray[17] = {12004,18702,0,15266,14522,14929,15601,15685,11467,11294,15027,16348,11384,15920,11468,11295,15028,16349,11385,11469,11296,15029,16350,11386,10666,10686,10706,10726,10746,11601,16209,11719,12024,12044,12064,12084,12104,11180,11200,11220,11240,11260,11080,11100,11120,11140,11160,27679,27823,27959,28106,28239,26656,26832,27008,27184,27360,26772,26930,27084,27269,27443,25513,25516,27700,27844,27980,28127,28260,26657,26833,27009,27185,27361,26773,26931,27085,27270,27444,25514,25517,28633,23056,23123,23190,23257,23324,23079,23146,23213,23280,23347,23101,23168,23235,23302,23369,25515,25518,26262,23391,23458,23525,23592,23659,23414,23481,23548,23615,23682,23436,23503,23570,23637,23704,0,0,19547,19007,0,0,0,0,0,0,19818,19835,0,0,0,0,21264,21262,0,0,0,21485,0}
jseArray[18] = {12005,17858,0,15267,14523,14930,15602,15686,11470,11297,15030,16351,11387,16245,11471,11298,15031,16352,11388,11472,11299,15032,16353,11389,10667,10687,10707,10727,10747,11602,11751,11720,12025,12045,12065,12085,12105,11181,11201,11221,11241,11261,11081,11101,11121,11141,11161,27680,27824,27960,28107,28240,26658,26834,27010,27186,27362,26774,26932,27086,27271,27445,25519,25522,27701,27845,27981,28128,28261,26659,26835,27011,27187,27363,26775,26933,27087,27272,27446,25520,25523,28634,23057,23124,23191,23258,23325,23080,23147,23214,23281,23348,23102,23169,23236,23303,23370,25521,25524,26263,23392,23459,23526,23593,23660,23415,23482,23549,23616,23683,23437,23504,23571,23638,23705,0,0,19534,19008,0,0,0,0,0,0,19805,19836,0,0,0,0,20486,20484,0,0,0,20515,0}
jseArray[19] = {12006,19203,0,16138,14578,15002,15659,15746,11475,11302,15035,16357,11393,16248,11478,11305,15038,16360,11396,11479,11306,15039,16361,11397,10668,10688,10708,10728,10748,11603,19256,11721,12026,12046,12066,12086,12106,11182,11202,11222,11242,11262,11082,11102,11122,11142,11162,27681,27825,27961,28108,28241,26660,26836,27012,27188,27364,26776,26934,27088,27273,27447,25525,25528,27702,27846,27982,28129,28262,26661,26837,27013,27189,27365,26777,26935,27089,27274,27448,25526,25529,28635,23058,23125,23192,23259,23326,23081,23148,23215,23282,23349,23103,23170,23237,23304,23371,25527,25530,26264,23393,23460,23527,23594,23661,23416,23483,23550,23617,23684,23438,23505,23572,23639,23706,0,0,19535,18989,0,0,0,0,0,0,19806,19837,0,0,0,0,20563,20557,0,0,0,20594,0}
jseArray[20] = {12006,19203,0,16139,14579,15003,15660,15747,11476,11303,15036,16358,11394,16248,11478,11305,15038,16360,11396,11479,11306,15039,16361,11397,10668,10688,10708,10728,10748,11603,19256,11721,12026,12046,12066,12086,12106,11182,11202,11222,11242,11262,11082,11102,11122,11142,11162,27682,27826,27962,28109,28242,26660,26836,27012,27188,27364,26776,26934,27088,27273,27447,25525,25528,27703,27847,27983,28130,28263,26661,26837,27013,27189,27365,26777,26935,27089,27274,27448,25526,25529,28635,23059,23126,23193,23260,23327,23081,23148,23215,23282,23349,23103,23170,23237,23304,23371,25527,25530,26264,23394,23461,23528,23595,23662,23416,23483,23550,23617,23684,23438,23505,23572,23639,23706,0,0,19535,18989,0,0,0,0,0,0,19806,19837,0,0,0,0,20563,20557,0,0,0,20594,0}
jseArray[21] = {12007,6058,0,16140,14580,15004,16311,15748,11477,11304,15037,16359,11395,15925,11480,11307,15040,16362,11398,11481,11308,15041,16363,11399,10669,10689,10709,10729,10749,19247,11620,11722,12027,12047,12067,12087,12107,11183,11203,11223,11243,11263,11083,11103,11123,11143,11163,27683,27827,27963,28110,28243,26662,26838,27014,27190,27366,26778,26936,27090,27275,27449,25531,25534,27704,27848,27984,28131,28264,26663,26839,27015,27191,27367,26779,26937,27091,27276,27450,25532,25535,28636,23060,23127,23194,23261,23328,23082,23149,23216,23283,23350,23104,23171,23238,23305,23372,25533,25536,26265,23395,23462,23529,23596,23663,23417,23484,23551,23618,23685,23439,23506,23573,23640,23707,0,0,19545,18990,0,0,0,0,0,0,19816,19838,0,0,0,0,21143,21137,0,0,0,21147,0}
jseArray[22] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27786,27926,28066,28206,28346,26664,26340,27016,27192,27368,26780,26938,27092,27277,27451,25537,25540,27705,27849,27985,28132,28265,26665,26841,27017,27193,27369,26781,26939,27093,27278,27452,25538,25541,28637,23061,23128,23195,23262,23329,23083,23150,23217,23284,23351,0,0,0,0,0,25539,25542,26266,23396,23463,23530,23597,23664,23418,23485,23552,23619,23686,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21124,21461,0,0,0,0,0,0,0,0,0,21082,21070}
jseArray[23] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27787,27927,28067,28207,28347,26666,26842,27018,27194,27370,26782,26940,27094,27279,27453,25543,25546,27706,27850,27986,28133,28266,26667,26843,27019,27195,27371,26783,26941,27095,27280,27454,25544,25547,28638,23062,23129,23196,23263,23330,23084,23151,23218,23285,23352,0,0,0,0,0,25545,25548,26267,23397,23464,23531,23598,23665,23419,23486,23553,23620,23687,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20776,0,0,0,0,0,0,0,0,0,0,21694,20753}

-- We need just a tiny delay to let the previous menu context be cleared out
-- 'New pages' are actually just whole new menus!
local delaySendMenu = function(player)
    player:timer(50, function(playerArg)
        playerArg:customMenu(menu)
    end)
end

commandObj.onTrigger = function(player)
	
	local dncOffset = 0
	if player:getRace() == 2 or player:getRace() == 4 or player:getRace() == 6 or player:getRace() == 7 then	
		dncOffset = 1
	else
		dncOffset = 0
	end
	local jobId = player:getMainJob() + dncOffset

		menu =
	{
		title = 'Job Specific Equipment Menu',
		options = {},
	}

	page1 =
    {
        {
            '[30-75] Artifact',
            function(playerArg)
                playerArg:printToPlayer('Ancient Artifacts Supply Co.', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices
                local itemIndexes = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13}
                local prices = {priceAF1, priceAF2, priceAF2, priceAF3, priceAF3, priceAF3, priceAF3, priceAF3,
                                priceAFP1, priceAFP1, priceAFP1, priceAFP1, priceAFP1}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            '[70-90] Relic',
            function(playerArg)
                playerArg:printToPlayer('Ye Olde Relic Reliquary', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for relic items
                local itemIndexes = {14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29}
                local prices = {priceRelic, priceRelic, priceRelic, priceRelic, priceRelic, priceRelic,
                                priceRelicP1, priceRelicP1, priceRelicP1, priceRelicP1, priceRelicP1,
                                priceRelicP2, priceRelicP2, priceRelicP2, priceRelicP2, priceRelicP2}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            '[81-90] Empyrean',
            function(playerArg)
                playerArg:printToPlayer('Empyrean Emporium', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for Empyrean items
                local itemIndexes = {30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47}
                local prices = {priceEmp, priceEmp, priceEmp, priceEmp, priceEmp, priceEmp, priceEmp, priceEmp,
                                priceEmpP1, priceEmpP1, priceEmpP1, priceEmpP1, priceEmpP1, priceEmpP2, priceEmpP2,
                                priceEmpP2, priceEmpP2, priceEmpP2}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            '[lv 109] Reforged v0 Equipment',
            function(playerArg)
                playerArg:printToPlayer('Reforged ilvl 109 Shop', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for Reforged v0 items
                local itemIndexes = {48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64}
                local prices = {priceReAF, priceReAF, priceReAF, priceReAF, priceReAF,
                                priceReRelic, priceReRelic, priceReRelic, priceReRelic, priceReRelic,
                                priceReEmp, priceReEmp, priceReEmp, priceReEmp, priceReEmp,
                                priceReEmp, priceReEmp}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            'Next Page',
            function(playerArg)
                menu.options = page2
                delaySendMenu(playerArg)
            end,
        },
    }


    page2 =
    {
        {
            '[119] Reforged +1 Equipment',
            function(playerArg)
                playerArg:printToPlayer('Reforged ilvl 119 Shop', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for Reforged +1 items
                local itemIndexes = {65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82}
                local prices = {priceReAFP1, priceReAFP1, priceReAFP1, priceReAFP1, priceReAFP1,
                                priceReRelicP1, priceReRelicP1, priceReRelicP1, priceReRelicP1, priceReRelicP1,
                                priceReEmpP1, priceReEmpP1, priceReEmpP1, priceReEmpP1, priceReEmpP1,
                                priceReEmpP1, priceReEmpP1, priceReEmpP1}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            '[129] Reforged +2 Equipment',
            function(playerArg)
                playerArg:printToPlayer('Reforged ilvl 119 II Shop', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for Reforged +2 items
                local itemIndexes = {83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100}
                local prices = {priceReAFP2, priceReAFP2, priceReAFP2, priceReAFP2, priceReAFP2,
                                priceReRelicP2, priceReRelicP2, priceReRelicP2, priceReRelicP2, priceReRelicP2,
                                priceReEmpP2, priceReEmpP2, priceReEmpP2, priceReEmpP2, priceReEmpP2,
                                priceReEmpP2, priceReEmpP2, priceReEmpP2}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            '[139] Reforged +3 Equipment',
            function(playerArg)
                playerArg:printToPlayer('Reforged ilvl 119 III Shop', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for Reforged +3 items
                local itemIndexes = {101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115}
                local prices = {priceReAFP3, priceReAFP3, priceReAFP3, priceReAFP3, priceReAFP3,
                                priceReRelicP3, priceReRelicP3, priceReRelicP3, priceReRelicP3, priceReRelicP3,
                                priceReEmpP3, priceReEmpP3, priceReEmpP3, priceReEmpP3, priceReEmpP3}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            'Previous Page',
            function(playerArg)
                menu.options = page1
                delaySendMenu(playerArg)
            end,
        },
        {
            'Next Page',
            function(playerArg)
                menu.options = page3
                delaySendMenu(playerArg)
            end,
        },
    }

	page3 =
    {
        {
            '[75-90] Ultimate Weapons Lvl 75-90',
            function(playerArg)
                playerArg:printToPlayer('Ultimate Weapons Lvl 75-90 Shop', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for Lvl 75-90 weapons
                local itemIndexes = {116, 117, 118, 119, 120, 121, 122, 123}
                local prices = {priceRelicWp, priceEmpWp, priceRelicWp, priceRelicWp, priceEmpWp, priceEmpWp, priceEmpWp, priceMythicWp}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            '[99-99] Ultimate Weapons Lvl 99',
            function(playerArg)
                playerArg:printToPlayer('Ultimate Weapons Lvl 99 Shop', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for Lvl 99 weapons
                local itemIndexes = {124, 125, 126, 127, 128, 129, 130, 131}
                local prices = {priceRelicWp99, priceEmpWp99, priceRelicWp99, priceRelicWp99, priceEmpWp99, priceEmpWp99, priceEmpWp99, priceMythicWp99}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            '[119 I] Ultimate Weapons Lvl 119',
            function(playerArg)
                playerArg:printToPlayer('Ultimate Weapons ilvl 119 Shop', 0xF);
                local stock = {}

                -- Define the indexes and corresponding prices for Lvl 119 weapons
                local itemIndexes = {132, 133, 134, 135, 136, 137, 138}
                local prices = {priceRelicWp119, priceRelicWp119, priceMythicWp119, priceEmpWp119, priceEmpWp119, priceAeonWp, priceAeonWp}

                -- Loop through the indexes and add items if they are not 0, keeping item and price in sync
                for i = 1, #itemIndexes do
                    local itemId = jseArray[jobId][itemIndexes[i]]

                    -- Only add the item and its price if the item is not 0
                    if itemId ~= 0 then
                        table.insert(stock, itemId)
                        table.insert(stock, prices[i])
                    end
                end

                xi.shop.general(playerArg, stock);
            end,
        },
        {
            'Previous Page',
            function(playerArg)
                menu.options = page2
                delaySendMenu(playerArg)
            end,
        },
    }

	menu.options = page1
    delaySendMenu(player)

end

return commandObj